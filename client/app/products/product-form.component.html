<h2>Add new product</h2>
<form [formGroup]="productForm" (ngSubmit)="submit(productForm.value)">
  <div class="" [ngClass]="{'has-error':!productForm.controls['name'].valid && productForm.controls['name'].touched}">
    <label for="name">Name</label>
    <input type="text" name="name" placeholder="Add name" [formControl]="productForm.controls['name']"/>
    <div class="" *ngIf="productForm.controls['name'].hasError('required') && productForm.controls['name'].touched">Product name is required</div>
    <div class="" *ngIf="productForm.controls['name'].hasError('minLength') && productForm.controls['name'].touched">Product name must be at least 2 characters long</div>
    <div class="" *ngIf="productForm.controls['name'].hasError('maxLength') && productForm.controls['name'].touched">Product name cannot exceed 20 characters</div>
  </div>
  <div class="" [ngClass]="{'has-error':!productForm.controls['category'].valid && productForm.controls['category'].touched}">
    <label for="category">Category</label>
    <input type="text" name="category" placeholder="Add a category" [formControl]="productForm.controls['category']" />
    <div class="" *ngIf="productForm.controls['category'].hasError('required') && productForm.controls['category'].touched">Product category is required</div>
  </div>
  <div class="" [ngClass]="{'has-error':!productForm.controls['group'].valid && productForm.controls['group'].touched}">
    <label for="group">Product group</label>
    <input type="text" name="group" placeholder="Add a product group" [formControl]="productForm.controls['group']" />
    <div class="" *ngIf="productForm.controls['group'].hasError('required') && productForm.controls['group'].touched">Product group is required</div>
  </div>
  <div class="" [ngClass]="{'has-error':!productForm.controls['price'].valid && productForm.controls['price'].touched}">
    <label for="price">Price</label>
    <input type="number" name="price" placeholder="Add a unit price" [formControl]="productForm.controls['price']" />
    <div class="" *ngIf="productForm.controls['group'].hasError('required') && productForm.controls['price'].touched">Product price is required</div>
  </div>
  <div class="" [ngClass]="{'has-error':!productForm.controls['origin'].valid && productForm.controls['origin'].touched}">
    <label for="origin">Product origin</label>
    <input type="text" name="origin" placeholder="Add the product origin" [formControl]="productForm.controls['origin']" />
    <div class="" *ngIf="productForm.controls['group'].hasError('required') && productForm.controls['origin'].touched">Product origin is required</div>
  </div>
  <div *ngIf="!loading">
    <button name="back" (click)="goBack()">Go back</button>
    <button name="submit" class="" [disabled]="!productForm.valid">Submit</button>
  </div>
  <div class="" *ngIf="loading">
    Submitting...
  </div>
</form>
